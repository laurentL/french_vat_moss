# -*- coding: utf-8 -*-
from __future__ import unicode_literals

import unittest
from decimal import Decimal
from .unittest_data import data_decorator, data
import vat_moss.phone_number


@data_decorator
class PhoneNumberTests(unittest.TestCase):

    @staticmethod
    def phone_numbers():
        return (
            # Phone number         # Address info                   # Expected result
            ('+43 5676 8135',      'AT', 'Jungholz',                Decimal('0.19'), 'AT', 'Jungholz'),
            ('+43 5676 8135',      'AT', None,                      Decimal('0.19'), 'AT', 'Jungholz'),
            ('+43 5517 5590',      'AT', 'Mittelberg',              Decimal('0.19'), 'AT', 'Mittelberg'),
            ('+43 5517 66510',     'AT', None,                      Decimal('0.20'), 'AT', None),
            ('+43 662 841150',     'AT', None,                      Decimal('0.20'), 'AT', None),

            ('+32 2 279 22 11',    'BE', None,                      Decimal('0.21'), 'BE', None),
            ('+359 2 811 9227',    'BG', None,                      Decimal('0.20'), 'BG', None),
            ('+357 22 316439',     'CY', None,                      Decimal('0.19'), 'CY', None),
            ('+420 272 772 862',   'CZ', None,                      Decimal('0.21'), 'CZ', None),

            ('+49 4725 81410',     'DE', 'Heligoland',              Decimal('0.0'),  'DE', 'Heligoland'),
            ('+49 7734 931990',    'DE', 'Büsingen am Hochrhein',   Decimal('0.0'),  'DE', 'Büsingen am Hochrhein'),
            ('+49 7734 6638',      'DE', None,                      Decimal('0.19'), 'DE', None),
            # Büsingen also has phone access through Switzerland
            ('+41 52 503 40 57',   'DE', 'Büsingen am Hochrhein',   Decimal('0.0'),  'DE', 'Büsingen am Hochrhein'),
            ('+41 52 630 00 60',   'CH', None,                      Decimal('0.0'),  'CH', None),
            ('+49 173 2050004',    'DE', None,                      Decimal('0.19'), 'DE', None),

            ('+45 33 13 44 11',    'DK', None,                      Decimal('0.25'), 'DK', None),
            ('+372 644 3484',      'EE', None,                      Decimal('0.20'), 'EE', None),

            ('+34 922 21 47 43',   'ES', 'Canary Islands',          Decimal('0.0'),  'ES', 'Canary Islands'),
            ('+34 952 68 63 80',   'ES', 'Melilla',                 Decimal('0.0'),  'ES', 'Melilla'),
            ('+34 952 52 95 20',   'ES', None,                      Decimal('0.21'), 'ES', None),
            ('+34 956 50 19 36',   'ES', 'Ceuta',                   Decimal('0.0'),  'ES', 'Ceuta'),
            ('+34 956 02 50 00',   'ES', None,                      Decimal('0.21'), 'ES', None),
            ('+34 913 55 08 73',   'ES', None,                      Decimal('0.21'), 'ES', None),

            ('+358 20 7590317',    'FI', None,                      Decimal('0.24'), 'FI', None),
            ('+33 1 40 46 79 00',  'FR', None,                      Decimal('0.20'), 'FR', None),
            ('+44 20 7229 8331',   'GB', None,                      Decimal('0.20'), 'GB', None),

            ('+30 2377 023643',    'GR', 'Mount Athos',             Decimal('0.0'),  'GR', 'Mount Athos'),
            ('+30 2377 071189',    'GR', None,                      Decimal('0.23'), 'GR', None),
            ('+30 21 3214 4890',   'GR', None,                      Decimal('0.23'), 'GR', None),

            ('+385 1 4564 111',    'HR', None,                      Decimal('0.25'), 'HR', None),
            ('+36 1 263 6000',     'HU', None,                      Decimal('0.27'), 'HU', None),
            ('+353 1 475 8555',    'IE', None,                      Decimal('0.23'), 'IE', None),
            # Campione only has phone access through Switzerland
            ('+41 91 649 75 41',   'IT', "Campione d'Italia",       Decimal('0.0'),  'IT', "Campione d'Italia"),
            ('+41 91 640 16 16',   'CH', None,                      Decimal('0.0'),  'CH', None),
            ('+39 0342 996002',    'IT', 'Livigno',                 Decimal('0.0'),  'IT', 'Livigno'),
            ('+39 0342 528111',    'IT', None,                      Decimal('0.22'), 'IT', None),
            ('+39 06 49971',       'IT', None,                      Decimal('0.22'), 'IT', None),

            ('+370 5 231 4930',    'LT', None,                      Decimal('0.21'), 'LT', None),
            ('+352 22 28 09',      'LU', None,                      Decimal('0.17'), 'LU', None),
            ('+371 26 448 632',    'LV', None,                      Decimal('0.21'), 'LV', None),
            ('+356 2122 0536',     'MT', None,                      Decimal('0.18'), 'MT', None),
            ('+31 20 522 1010',    'NL', None,                      Decimal('0.21'), 'NL', None),
            ('+48 22 529 87 77',   'PL', None,                      Decimal('0.23'), 'PL', None),

            ('+351 296 306 508',   'PT', 'Azores',                  Decimal('0.18'),  'PT', 'Azores'),
            ('+351 291 215 130',   'PT', 'Madeira',                 Decimal('0.22'),  'PT', 'Madeira'),
            ('+351 21 346 1381',   'PT', None,                      Decimal('0.23'), 'PT', None),

            ('+40 21 310 1522',    'RO', None,                      Decimal('0.24'), 'RO', None),
            ('+46 8 402 61 30',    'SE', None,                      Decimal('0.25'), 'SE', None),
            ('+386 1 585 27 56',   'SI', None,                      Decimal('0.22'), 'SI', None),
            ('+421 2/524 929 73',  'SK', None,                      Decimal('0.20'), 'SK', None),
            ('+377 93 15 29 40',   'MC', None,                      Decimal('0.20'), 'MC', None),
            ('+44 1624 664455',    'IM', None,                      Decimal('0.20'), 'IM', None),
            ('+47 21 42 21 21',    'NO', None,                      Decimal('0.25'), 'NO', None),

            ('+1-978-572-0330',    'US', None,                      Decimal('0.0'),  'US', None),
            ('+1.787.253.2329',    'PR', None,                      Decimal('0.0'),  'PR', None),

            ('+1 613-836-2527',    'CA', None,                      Decimal('0.0'),  'CA', None),
            ('+1 902-894-7371',    'CA', None,                      Decimal('0.0'),  'CA', None),
            ('+1 604-538-8587',    'CA', None,                      Decimal('0.0'),  'CA', None),

            ('+1 268-462-0140',    'AG', None,                      Decimal('0.0'),  'AG', None),
            ('+1 264-498-2000',    'AI', None,                      Decimal('0.0'),  'AI', None),
            ('+1 684-258-3401',    'AS', None,                      Decimal('0.0'),  'AS', None),
            ('+1 246-274-1200',    'BB', None,                      Decimal('0.0'),  'BB', None),
            ('+1 441-295-8085',    'BM', None,                      Decimal('0.0'),  'BM', None),
            ('+1 242-327-7211',    'BS', None,                      Decimal('0.0'),  'BS', None),
            ('+1 767-445-8486',    'DM', None,                      Decimal('0.0'),  'DM', None),
            ('+1 809-686-0222',    'DO', None,                      Decimal('0.0'),  'DO', None),
            ('+1 473-435-8378',    'GD', None,                      Decimal('0.0'),  'GD', None),
            ('+1 671-333-4050',    'GU', None,                      Decimal('0.0'),  'GU', None),
            ('+1 876-922-2707',    'JM', None,                      Decimal('0.0'),  'JM', None),
            ('+1 869-466-1200',    'KN', None,                      Decimal('0.0'),  'KN', None),
            ('+1 345-949-0088',    'KY', None,                      Decimal('0.0'),  'KY', None),
            ('+1 758-452-3081',    'LC', None,                      Decimal('0.0'),  'LC', None),
            ('+1 670-433-9294',    'MP', None,                      Decimal('0.0'),  'MP', None),
            ('+1 664-491-8767',    'MS', None,                      Decimal('0.0'),  'MS', None),
            ('+1 721-542-2447',    'SX', None,                      Decimal('0.0'),  'SX', None),
            ('+1 649-946-8666',    'TC', None,                      Decimal('0.0'),  'TC', None),
            ('+1 868-628-1488',    'TT', None,                      Decimal('0.0'),  'TT', None),
            ('+1 784-458-4811',    'VC', None,                      Decimal('0.0'),  'VC', None),
            ('+1 284-494-2771',    'VG', None,                      Decimal('0.0'),  'VG', None),
            ('+1 340-774-1600',    'VI', None,                      Decimal('0.0'),  'VI', None),

            ('+20 2 35676105',     'EG', None,                      Decimal('0.0'),  'EG', None),
            ('+211 912 105 107',   'SS', None,                      Decimal('0.0'),  'SS', None),
            ('+212 5288-41219',    'EH', None,                      Decimal('0.0'),  'EH', None),
            ('+212 5377-62265',    'MA', None,                      Decimal('0.0'),  'MA', None),
            ('+213 770 08 20 00',  'DZ', None,                      Decimal('0.0'),  'DZ', None),
            ('+216 71 107 000',    'TN', None,                      Decimal('0.0'),  'TN', None),
            ('+218 21-3330292',    'LY', None,                      Decimal('0.0'),  'LY', None),
            ('+220 439 9260',      'GM', None,                      Decimal('0.0'),  'GM', None),
            ('+221 33 879 40 00',  'SN', None,                      Decimal('0.0'),  'SN', None),
            ('+222 45 25 14 24',   'MR', None,                      Decimal('0.0'),  'MR', None),
            ('+223 20 70 23 00',   'ML', None,                      Decimal('0.0'),  'ML', None),
            ('+224 666 80 87 82',  'GN', None,                      Decimal('0.0'),  'GN', None),
            ('+225 22 48 10 00',   'CI', None,                      Decimal('0.0'),  'CI', None),
            ('+226 50 49 53 00',   'BF', None,                      Decimal('0.0'),  'BF', None),
            ('+227 20 37 00 29',   'NE', None,                      Decimal('0.0'),  'NE', None),
            ('+228 22 23 60 60',   'TG', None,                      Decimal('0.0'),  'TG', None),
            ('+229 21 30 14 13',   'BJ', None,                      Decimal('0.0'),  'BJ', None),
            ('+230 211 9500',      'MU', None,                      Decimal('0.0'),  'MU', None),
            ('+231 88 651 7686',   'LR', None,                      Decimal('0.0'),  'LR', None),
            ('+232 22 272520',     'SL', None,                      Decimal('0.0'),  'SL', None),
            ('+233 30 263 3863',   'GH', None,                      Decimal('0.0'),  'GH', None),
            ('+234 1 277 8897',    'NG', None,                      Decimal('0.0'),  'NG', None),
            ('+235 22 51 91 56',   'TD', None,                      Decimal('0.0'),  'TD', None),
            ('+236 21 61 24 00',   'CF', None,                      Decimal('0.0'),  'CF', None),
            ('+237 22 48 23 43',   'CM', None,                      Decimal('0.0'),  'CM', None),
            ('+238 260 90 60',     'CV', None,                      Decimal('0.0'),  'CV', None),
            ('+239 222 3421',      'ST', None,                      Decimal('0.0'),  'ST', None),
            ('+240 333 088 157',   'GQ', None,                      Decimal('0.0'),  'GQ', None),
            ('+241 01 79 32 00',   'GA', None,                      Decimal('0.0'),  'GA', None),
            ('+242 06 670 0700',   'CG', None,                      Decimal('0.0'),  'CG', None),
            ('+243 991 597 592',   'CD', None,                      Decimal('0.0'),  'CD', None),
            ('+244 222 336 346',   'AO', None,                      Decimal('0.0'),  'AO', None),
            ('+245 320 7633',      'GW', None,                      Decimal('0.0'),  'GW', None),
            ('+246-370-4830',      'IO', None,                      Decimal('0.0'),  'IO', None),
            ('+247 7000',          'AC', None,                      Decimal('0.0'),  'AC', None),
            ('+248 2 522 010',     'SC', None,                      Decimal('0.0'),  'SC', None),
            ('+249 91 229 3026',   'SD', None,                      Decimal('0.0'),  'SD', None),
            ('+250 788 840 928',   'RW', None,                      Decimal('0.0'),  'RW', None),
            ('+251 25 112 4909',   'ET', None,                      Decimal('0.0'),  'ET', None),
            ('+252 2 4040880',     'SO', None,                      Decimal('0.0'),  'SO', None),
            ('+253 21 34 01 01',   'DJ', None,                      Decimal('0.0'),  'DJ', None),
            ('+254 42 2131201',    'KE', None,                      Decimal('0.0'),  'KE', None),
            ('+255 22 284 4371',   'TZ', None,                      Decimal('0.0'),  'TZ', None),
            ('+256 41 4320101',    'UG', None,                      Decimal('0.0'),  'UG', None),
            ('+257 22 22 45 21',   'BI', None,                      Decimal('0.0'),  'BI', None),
            ('+258 26 520 683',    'MZ', None,                      Decimal('0.0'),  'MZ', None),
            ('+260 21 1250000',    'ZM', None,                      Decimal('0.0'),  'ZM', None),
            ('+261 32 07 125 48',  'MG', None,                      Decimal('0.0'),  'MG', None),
            ('+262 269 62 06 58',  'YT', None,                      Decimal('0.0'),  'YT', None),
            ('+262 262 20 02 19',  'RE', None,                      Decimal('0.0'),  'RE', None),
            ('+263 9 724 64',      'ZW', None,                      Decimal('0.0'),  'ZW', None),
            ('+264 61 207 9111',   'NA', None,                      Decimal('0.0'),  'NA', None),
            ('+265 1 761 613',     'MW', None,                      Decimal('0.0'),  'MW', None),
            ('+266 2224 3000',     'LS', None,                      Decimal('0.0'),  'LS', None),
            ('+267 395 1111',      'BW', None,                      Decimal('0.0'),  'BW', None),
            ('+268 2404 5505',     'SZ', None,                      Decimal('0.0'),  'SZ', None),
            ('+269 773 06 15',     'KM', None,                      Decimal('0.0'),  'KM', None),
            ('+27 21 637 6607',    'ZA', None,                      Decimal('0.0'),  'ZA', None),
            ('+290 22944',         'SH', None,                      Decimal('0.0'),  'SH', None),
            ('+291 1 120 944',     'ER', None,                      Decimal('0.0'),  'ER', None),
            ('+297 582 7488',      'AW', None,                      Decimal('0.0'),  'AW', None),
            ('+298 314251',        'FO', None,                      Decimal('0.0'),  'FO', None),
            ('+299 32 77 33',      'GL', None,                      Decimal('0.0'),  'GL', None),

            ('+350 200 47693',     'GI', None,                      Decimal('0.0'),  'GI', None),
            ('+354 510 1000',      'IS', None,                      Decimal('0.0'),  'IS', None),
            ('+355 54 243 355',    'AL', None,                      Decimal('0.0'),  'AL', None),
            ('+358 18 19930',      'AX', None,                      Decimal('0.0'),  'AX', None),
            ('+373 22 505 511',    'MD', None,                      Decimal('0.0'),  'MD', None),
            ('+374 10 440530',     'AM', None,                      Decimal('0.0'),  'AM', None),
            ('+375 17 298-46-29',  'BY', None,                      Decimal('0.0'),  'BY', None),
            ('+376 892 000',       'AD', None,                      Decimal('0.0'),  'AD', None),
            ('+378 (0549) 992400', 'SM', None,                      Decimal('0.0'),  'SM', None),
            ('+39 06 6988 4676',   'VA', None,                      Decimal('0.0'),  'VA', None),
            ('+380 612 229 949',   'UA', None,                      Decimal('0.0'),  'UA', None),
            ('+381 27 324764',     'RS', None,                      Decimal('0.0'),  'RS', None),
            ('+382 67 814 408',    'ME', None,                      Decimal('0.0'),  'ME', None),

            # Kosovo doesn't have a real ISO code yet, but various organizations are using XK.
            # Also, the calling code is +383 as of 2015, but I couldn't find any published
            # numbers with that code as of January 2015.
            ('+381 38 244277',     'XK', None,                      Decimal('0.0'),  'XK', None),
            ('+377 44 113 773',    'XK', None,                      Decimal('0.0'),  'XK', None),

            ('+387 33 727-279',    'BA', None,                      Decimal('0.0'),  'BA', None),
            ('+389 2 311 6066',    'MK', None,                      Decimal('0.0'),  'MK', None),

            ('+423 239 63 00',     'LI', None,                      Decimal('0.0'),  'LI', None),
            ('+44 1481 721911',    'GG', None,                      Decimal('0.0'),  'GG', None),
            ('+44 1534 633300',    'JE', None,                      Decimal('0.0'),  'JE', None),

            ('+501 223-2670',      'BZ', None,                      Decimal('0.0'),  'BZ', None),
            ('+502 2232 4041',     'GT', None,                      Decimal('0.0'),  'GT', None),
            ('+503 2534 9181',     'SV', None,                      Decimal('0.0'),  'SV', None),
            ('+504 2236-9320',     'HN', None,                      Decimal('0.0'),  'HN', None),
            ('+505 2255 9595',     'NI', None,                      Decimal('0.0'),  'NI', None),
            ('+506 2519 2000',     'CR', None,                      Decimal('0.0'),  'CR', None),
            ('+507 317-5000',      'PA', None,                      Decimal('0.0'),  'PA', None),
            ('+508 41 26 27',      'PM', None,                      Decimal('0.0'),  'PM', None),
            ('+509 22 29 8000',    'HT', None,                      Decimal('0.0'),  'HT', None),
            ('+51 1 4351137',      'PE', None,                      Decimal('0.0'),  'PE', None),
            ('+52 55 5140 2600',   'MX', None,                      Decimal('0.0'),  'MX', None),
            ('+53 7 334011',       'CU', None,                      Decimal('0.0'),  'CU', None),
            ('+54 11 5777-4533',   'AR', None,                      Decimal('0.0'),  'AR', None),
            ('+55 61 3312-7000',   'BR', None,                      Decimal('0.0'),  'BR', None),
            ('+56 22322600',       'CL', None,                      Decimal('0.0'),  'CL', None),
            ('+57 5 3532001',      'CO', None,                      Decimal('0.0'),  'CO', None),
            ('+58 212-9756411',    'VE', None,                      Decimal('0.0'),  'VE', None),
            ('+590 590 52-2525',   'MF', None,                      Decimal('0.0'),  'MF', None),
            ('+590 590 27-6464',   'BL', None,                      Decimal('0.0'),  'BL', None),
            ('+590 590 38-9400',   'GP', None,                      Decimal('0.0'),  'GP', None),
            ('+591 3 3331237',     'BO', None,                      Decimal('0.0'),  'BO', None),
            ('+592 227 0330',      'GY', None,                      Decimal('0.0'),  'GY', None),
            ('+593 4-371-7000',    'EC', None,                      Decimal('0.0'),  'EC', None),
            ('+594 594 31 03 05',  'GF', None,                      Decimal('0.0'),  'GF', None),
            ('+595 21 232655',     'PY', None,                      Decimal('0.0'),  'PY', None),
            ('+596 596 71 56 15',  'MQ', None,                      Decimal('0.0'),  'MQ', None),
            ('+597 851-5222',      'SR', None,                      Decimal('0.0'),  'SR', None),
            ('+598 2354 2502',     'UY', None,                      Decimal('0.0'),  'UY', None),
            ('+599 9 435 5000',    'CW', None,                      Decimal('0.0'),  'CW', None),
            ('+599 717 5600',      'BQ', None,                      Decimal('0.0'),  'BQ', None),

            ('+60 3-2274 6489',    'MY', None,                      Decimal('0.0'),  'MY', None),
            ('+61 8 9164 8498',    'CX', None,                      Decimal('0.0'),  'CX', None),
            ('+61 8 9162 6515',    'CC', None,                      Decimal('0.0'),  'CC', None),
            ('+61 2 9798 8299',    'AU', None,                      Decimal('0.0'),  'AU', None),
            ('+62 31 5453321',     'ID', None,                      Decimal('0.0'),  'ID', None),
            ('+63 2 708 9099',     'PH', None,                      Decimal('0.0'),  'PH', None),
            ('+64 9-360 1572',     'NZ', None,                      Decimal('0.0'),  'NZ', None),
            ('+65 6883 1534',      'SG', None,                      Decimal('0.0'),  'SG', None),
            ('+66 2 278 3175',     'TH', None,                      Decimal('0.0'),  'TH', None),
            ('+670 332 4502',      'TL', None,                      Decimal('0.0'),  'TL', None),
            ('+672 3 22445',       'NF', None,                      Decimal('0.0'),  'NF', None),
            ('+672 12 8857',       'AQ', None,                      Decimal('0.0'),  'AQ', None),
            ('+673 233 5544',      'BN', None,                      Decimal('0.0'),  'BN', None),
            ('+(674) 5578020',     'NR', None,                      Decimal('0.0'),  'NR', None),
            ('+675 324 4704',      'PG', None,                      Decimal('0.0'),  'PG', None),
            ('+676 22-390',        'TO', None,                      Decimal('0.0'),  'TO', None),
            ('+677 20071',         'SB', None,                      Decimal('0.0'),  'SB', None),
            ('+678 36911',         'VU', None,                      Decimal('0.0'),  'VU', None),
            ('+679 331 2600',      'FJ', None,                      Decimal('0.0'),  'FJ', None),
            ('+680 488 8686',      'PW', None,                      Decimal('0.0'),  'PW', None),
            ('+681 72 21 00',      'WF', None,                      Decimal('0.0'),  'WF', None),
            ('+682 20 068',        'CK', None,                      Decimal('0.0'),  'CK', None),
            ('+683 4628',          'NU', None,                      Decimal('0.0'),  'NU', None),
            ('+685 20042',         'WS', None,                      Decimal('0.0'),  'WS', None),
            ('+686 81230',         'KI', None,                      Decimal('0.0'),  'KI', None),
            ('+687 25.66.66',      'NC', None,                      Decimal('0.0'),  'NC', None),
            ('+(688) 20500',       'TV', None,                      Decimal('0.0'),  'TV', None),
            ('+689 453888',        'PF', None,                      Decimal('0.0'),  'PF', None),
            ('+690 4140',          'TK', None,                      Decimal('0.0'),  'TK', None),
            ('+691 320 2537',      'FM', None,                      Decimal('0.0'),  'FM', None),
            ('+692 247-7923',      'MH', None,                      Decimal('0.0'),  'MH', None),
            ('(+7) 840-226 3693',  'GE', None,                      Decimal('0.0'),  'GE', None),
            ('+7 940 779-70-70',   'GE', None,                      Decimal('0.0'),  'GE', None),
            ('+7 495 698-49-61',   'RU', None,                      Decimal('0.0'),  'RU', None),
            ('+7 721 290 9563',    'KZ', None,                      Decimal('0.0'),  'KZ', None),
            ('+81 3-5570-0230',    'JP', None,                      Decimal('0.0'),  'JP', None),
            ('‎+82 2-6352-3611',    'KR', None,                      Decimal('0.0'),  'KR', None),
            ('+84 8 3827 2372',    'VN', None,                      Decimal('0.0'),  'VN', None),
            ('+850-2-321-7851',    'KP', None,                      Decimal('0.0'),  'KP', None),
            ('+852 2332 7600',     'HK', None,                      Decimal('0.0'),  'HK', None),
            ('+853 2838 1652',     'MO', None,                      Decimal('0.0'),  'MO', None),
            ('+855 23 424 888',    'KH', None,                      Decimal('0.0'),  'KH', None),
            ('+856 21 212 460',    'LA', None,                      Decimal('0.0'),  'LA', None),
            ('+86 10 8402 1029',   'CN', None,                      Decimal('0.0'),  'CN', None),
            ('+880 1534-663693',   'BD', None,                      Decimal('0.0'),  'BD', None),
            ('+886 3 561 0168',    'TW', None,                      Decimal('0.0'),  'TW', None),
            ('+90 224 261 0037',   'TR', None,                      Decimal('0.0'),  'TR', None),
            ('+91 22 2504 1273',   'IN', None,                      Decimal('0.0'),  'IN', None),
            ('+92 22 3880342',     'PK', None,                      Decimal('0.0'),  'PK', None),
            ('+93 20 230 0016',    'AF', None,                      Decimal('0.0'),  'AF', None),
            ('+94 11 2 300133',    'LK', None,                      Decimal('0.0'),  'LK', None),
            ('+95 67 414 141',     'MM', None,                      Decimal('0.0'),  'MM', None),
            ('+960 680-8866',      'MV', None,                      Decimal('0.0'),  'MV', None),
            ('+961 6 444 445',     'LB', None,                      Decimal('0.0'),  'LB', None),
            ('+962 6 462 0190',    'JO', None,                      Decimal('0.0'),  'JO', None),
            ('+963 33 883 7880',   'SY', None,                      Decimal('0.0'),  'SY', None),
            ('+964 740 157 5938',  'IQ', None,                      Decimal('0.0'),  'IQ', None),
            ('+965 2246 5489',     'KW', None,                      Decimal('0.0'),  'KW', None),
            ('+966 53 326 4028',   'SA', None,                      Decimal('0.0'),  'SA', None),
            ('+967 5 304 741',     'YE', None,                      Decimal('0.0'),  'YE', None),
            ('+968 24 478373',     'OM', None,                      Decimal('0.0'),  'OM', None),
            ('+970 2 232 2187',    'PS', None,                      Decimal('0.0'),  'PS', None),
            ('+971 2 819 0000',    'AE', None,                      Decimal('0.0'),  'AE', None),
            ('+972 8-673-0209',    'IL', None,                      Decimal('0.0'),  'IL', None),
            ('+973 1764 3299',     'BH', None,                      Decimal('0.0'),  'BH', None),
            ('+974 4425 5555',     'QA', None,                      Decimal('0.0'),  'QA', None),
            ('+975 2 327 791',     'BT', None,                      Decimal('0.0'),  'BT', None),
            ('+976 7013 3804',     'MN', None,                      Decimal('0.0'),  'MN', None),
            ('+977 1-4411210',     'NP', None,                      Decimal('0.0'),  'NP', None),
            ('+98 51 1880 2000',   'IR', None,                      Decimal('0.0'),  'IR', None),
            ('+992 474 49 4229',   'TJ', None,                      Decimal('0.0'),  'TJ', None),
            ('+993 12 51-05-55',   'TM', None,                      Decimal('0.0'),  'TM', None),
            ('+994 12 495 30 73',  'AZ', None,                      Decimal('0.0'),  'AZ', None),
            ('+995 322 20 22 22',  'GE', None,                      Decimal('0.0'),  'GE', None),
            ('+996 312 611 155',   'KG', None,                      Decimal('0.0'),  'KG', None),
            ('+998 66 233 78 43',  'UZ', None,                      Decimal('0.0'),  'UZ', None),

        )

    @data('phone_numbers')
    def calculate_rate(self, phone_number, address_country_code, address_exception, expected_rate, expected_country_code, expected_exception_name):
        result = vat_moss.phone_number.calculate_rate(phone_number, address_country_code, address_exception)
        result_rate, result_country_code, result_exception_name = result

        self.assertEqual(result_rate, expected_rate, msg='%s:%s %s %s' % (phone_number, address_country_code, result_rate, expected_rate))
        self.assertEqual(result_country_code, expected_country_code)
        self.assertEqual(result_exception_name, expected_exception_name)
